(function(){var n;n=function(n){var r,t,u,f,i,e,o;r=$(n),f=function(n){var t;return t=$(n),t.parents(".event").attr("data-eventid")},o=function(n){var t,i;n.preventDefault(),t=$(this),i=f(t),r.find("#e_"+i).toggleClass("hidden")},e=function(n){var t,u,r;return n.preventDefault(),t=$(this),r=t.parents(".event"),u=r.attr("data-eventid"),$.post(t.attr("href")),i(r,!0)},u=function(n){var t,u,r;return n.preventDefault(),t=$(this),r=t.parents(".event"),u=r.attr("data-eventid"),$.post(t.attr("href")),i(r,!1)},i=function(n,t){return t?(n.find("a.rsvp-button").parent().hide(),n.find("a.cancel-rsvp-button").parent().show(),n.addClass("attending")):(n.find("a.cancel-rsvp-button").parent().hide(),n.find("a.rsvp-button").parent().show(),n.removeClass("attending"))},t=r.find(".event"),t.each(function(){var n;return n=$(this),i(n,n.hasClass("attending"))});t.on("click","a.rsvp-button",e);t.on("click","a.cancel-rsvp-button",u);t.on("click",".title-link a",o)},window.Schedule=n,window.Schedule(".schedule")}).call(this)